# =========================
# Model & HF caching
# =========================
MODEL_ID=ibm-granite/granite-speech-3.3-8b
HF_HOME=/weights/huggingface
HUGGINGFACE_HUB_CACHE=/weights/huggingface
TRANSFORMERS_CACHE=/weights/huggingface
HF_HUB_ENABLE_HF_TRANSFER=1
TOKENIZERS_PARALLELISM=false
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:128
# HF_TOKEN= # (optional) only if the model requires auth

# =========================
# Chunking / SRT formatting
# =========================
CHUNK_SECONDS=20
CHUNK_OVERLAP=1
MAX_DURATION_SECONDS=0          # 0 = off (legacy seconds cap)
SRT_MAX_CHARS_PER_LINE=42
SRT_MAX_LINES=2
RETURN_SRT_BASE64_DEFAULT=true

# =========================
# Voice Activity Detection
# =========================
USE_VAD_DEFAULT=false
VAD_AGGRESSIVENESS=2            # 0..3 (higher = stricter)
VAD_FRAME_MS=30                 # 10 | 20 | 30
VAD_MIN_SPEECH_MS=300
VAD_MAX_SILENCE_MS=400
VAD_PAD_MS=120
VAD_MAX_SEGMENT_SECONDS=30

# =========================
# Input size limits
# =========================
MAX_INPUT_MINUTES=0             # 0 = off (minutes cap)
MAX_INPUT_ACTION=reject         # reject | truncate

# =========================
# YouTube controls
# =========================
YTDLP_FORMAT=bestaudio/best
YTDLP_RETRIES=3
MAX_YOUTUBE_MINUTES=0           # 0 = off (pre-download cap)

# =========================
# MinIO / S3-compatible storage (REQUIRED for "type":"path" and SRT writes)
# =========================
MINIO_ENDPOINT=minio.yourdomain:9000
MINIO_SECURE=true               # false if using http://
MINIO_ACCESS_KEY=YOUR_KEY
MINIO_SECRET_KEY=YOUR_SECRET

# Optional shorthands (lets you omit srt_path; auto-saves to OUTPUT bucket/prefix)
MINIO_INPUT_BUCKET=media
MINIO_INPUT_PREFIX=in/
MINIO_OUTPUT_BUCKET=media
MINIO_OUTPUT_PREFIX=out/
